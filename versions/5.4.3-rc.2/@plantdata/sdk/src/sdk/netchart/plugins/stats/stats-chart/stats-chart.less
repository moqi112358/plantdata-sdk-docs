@import "../../../../../define/index";

.pdvis-namespace {
  .pdsdk-stats-chart {
    .pdsdk-stats-chart-header {
      padding: 8px;
      position: relative;
      border-bottom: @divider-default;

      span {
        display: inline-block;
        height: 24px;
        line-height: 24px;
      }

      .pdsdk-stats-chart-btn {
        float: right;
        cursor: pointer;

        svg {
          fill: @color-font-03;

          &:hover {
            fill: @color-primary;
          }
        }
      }


      & ~ .pdsdk-stats-chart-body {
        height: calc(~"100% - 107px");
      }
    }

    .pdsdk-stats-chart-body {
      padding-top: 10px;
      height: calc(~"100% - 56px");
      .scroll();

      .pdsdk-stats-chart-item {
        margin: 8px;
        .box-shadow();
      }
    }

    .pdsdk-stats-chart-add {
      padding: 8px 8px;
      display: none;

      button {
        width: 100%;

        svg {
          vertical-align: -7px;
          fill: @color-primary;
        }

        &:hover {
          svg {
            fill: @color-light;
          }
        }
      }
    }

    &.pdsdk-stats-chart-edit-true {
      .pdsdk-stats-chart-add {
        display: block;
      }
    }
  }

  .pdvis-panels-page > .pdsdk-stats-chart {
    height: 100%;
  }

  @label-width: 120px;

  &.pdsdk-stats-chart-add-dialog {
    .pdvis-edit-item.pdvis-edit-item-single {
      & > label[title] {
        width: @label-width;
      }

      & > .pdvis-edit-item-select {
        width: calc(~"100% - @{label-width}");
      }
    }

    .pdsdk-stats-chart-item {
      .pdsdk-stats-chart-editor {
        width: 100%;

        .pdsdk-stats-chart-edit-form {
          padding: 0 0 0 8px;

          & > * {
            margin: 8px 0;
            position: static;
          }

          .pdsdk-stats-chart-edit-icon {
            display: none;
          }

          label {
            width: @label-width;
            line-height: 32px;
            float: left;
          }

          .pdsdk-stats-chart-edit-title {
            input {
              width: calc(~"100% - @{label-width}");
            }
          }

          .pdsdk-stats-chart-edit-x, .pdsdk-stats-chart-edit-y {
            select {
              width: calc(~"100% - @{label-width}");
            }
          }
        }

        &.pdsdk-stats-entity-attrvalue {
          .pdsdk-stats-chart-edit-x {
            select {
              width: calc(~"(100% - @{label-width}) / 2");
            }
          }
        }

        &.pdsdk-stats-relation-attrvalue {
          .pdsdk-stats-chart-edit-x {
            select {
              width: calc(~"(100% - @{label-width}) / 3");
            }
          }
        }

        .pdsdk-stats-chart-edit-merge, .pdsdk-stats-chart-edit-type {
          .pdvis-edit-item-select {
            width: calc(~"100% - @{label-width}");
          }
        }
      }

      .pdsdk-stats-chart-edit-control {
        display: none;
      }
    }
  }
}
